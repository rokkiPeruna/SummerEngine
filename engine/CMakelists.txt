#root/engine

#Add include directories
include_directories(${PROJECT_SOURCE_DIR}/engine/include)
include_directories(${PROJECT_SOURCE_DIR}/engine/src)
include_directories(${PROJECT_SOURCE_DIR}/external)
include_directories(${PROJECT_SOURCE_DIR}/external/imgui)
include_directories(${PROJECT_SOURCE_DIR}/external/OpenGL)
include_directories(${PROJECT_SOURCE_DIR}/libs)

#Add library directories
link_directories(${PROJECT_SOURCE_DIR}/libs)


#-----------------------------------------------------------------
#Components
set(COMPONENTS_FILES
	include/components/Component.h
	src/components/Component.cpp
	include/components/CPosition.h
	include/components/CVelocity.h
    include/components/CTriangleShape.h
    include/components/CRectangleShape.h
    include/components/CCircleShape.h
	)
source_group("components" FILES ${COMPONENTS_FILES})
#-----------------------------------------------------------------
#Systems
set(SYSTEMS_FILES
	include/systems/ComponentSystem.h
	src/systems/ComponentSystem.cpp
	include/systems/MovementSystem.h
	src/systems/MovementSystem.cpp
	)
source_group("systems" FILES ${SYSTEMS_FILES})
#-----------------------------------------------------------------
#Managers
set(MANAGERS_FILES
	include/managers/Manager.h
	include/managers/ResourceManager.h
	src/managers/ResourceManager.cpp
	include/managers/Resource.h
	include/managers/EntityManager.h
	src/managers/EntityManager.cpp
	include/managers/ComponentManager.h
	src/managers/ComponentManager.cpp
	include/managers/Entity.h
	src/managers/Entity.cpp
	include/managers/SceneManager.h
	src/managers/SceneManager.cpp
	include/managers/Scene.h
	src/managers/Scene.cpp
	include/managers/RenderManager.h
	src/managers/RenderManager.cpp
	)
source_group("managers" FILES ${MANAGERS_FILES})
#-----------------------------------------------------------------
#Core
set(CORE_FILES
	include/core/Engine.h
	src/core/Engine.cpp
	include/core/Window.h
	src/core/Window.cpp	
	include/core/imgui_impl_sdl_gl3.h
	src/core/imgui_impl_sdl_gl3.cpp
	include/core/Messages.h
	include/core/Messenger.h
	src/core/Messenger.cpp
	include/core/gui_values.h
	)
source_group("core" FILES ${CORE_FILES})

#-----------------------------------------------------------------
#IDs
set(IDS_FILES
	include/ids/ComponentTypeList.h
	include/ids/SystemAndManagerIDList.h
	)
source_group("ids" FILES ${IDS_FILES})

#-----------------------------------------------------------------
#Utility
set(UTILITY_FILES
	include/utility/Typedefs.h
	include/utility/Time.h
	src/utility/Time.cpp
	include/utility/Clock.h
	src/utility/Clock.cpp
	)
source_group("utility" FILES ${UTILITY_FILES})
#-----------------------------------------------------------------
#Imgui
set(IMGUI_FILES
	${PROJECT_SOURCE_DIR}/external/imgui/imconfig.h
	${PROJECT_SOURCE_DIR}/external/imgui/imgui.cpp
	${PROJECT_SOURCE_DIR}/external/imgui/imgui.h
	${PROJECT_SOURCE_DIR}/external/imgui/imgui_demo.cpp
	${PROJECT_SOURCE_DIR}/external/imgui/imgui_draw.cpp
	${PROJECT_SOURCE_DIR}/external/imgui/imgui_internal.h
	)
source_group("imgui" FILES ${IMGUI_FILES})
#-----------------------------------------------------------------
#Main.cpp
set(MAIN_CPP
	src/main.cpp
	)
source_group("" FILES ${MAIN_CPP})
#-----------------------------------------------------------------

#JSON files
#set(JSON_COMPONENT_TEMPLATES
#	json_files/component_templates.json)
#
#set(JSON_COMPONENTS
#	json_files/components.json)
#	
#set(JSON_ENTITY_TEMPLATES
#	json_files/entity_templates.json)
#
#set(JSON_ENTITIES
#	json_files/entities.json)
#
#set(JSON_SCENES
#	json_files/scenes.json)
#
#set(JSON_ENGINE_CONFIG
#	json_files/engine_config.json
#	)
#	
#set(JSON_FILES
#	${JSON_ENGINE_CONFIG}
#	)
	
#source_group("json" FILES
#	${JSON_FILES})
#-----------------------------------------------------------------
#Project name
add_executable(engine
	src/main.cpp
	${COMPONENTS_FILES}
	${SYSTEMS_FILES}
	${MANAGERS_FILES}
	${CORE_FILES}
	${IDS_FILES}
	${UTILITY_FILES}
	${IMGUI_FILES}
	${MAIN_CPP}
	#${JSON_FILES}
	)


target_link_libraries(engine PUBLIC 
					box2d 
					SDL2-static 
					SDL2main 
					glew32 
					glew32s 	
					OpenGL32
				)
# Remember to add 'OALWrapper' to target_link_libraries

#Add folder for exes
set_property(TARGET engine PROPERTY FOLDER "engine")

# Properties->General->Output Directory
set_target_properties(engine PROPERTIES
                      RUNTIME_OUTPUT_DIRECTORY ${PROJECT_SOURCE_DIR}/executables)
